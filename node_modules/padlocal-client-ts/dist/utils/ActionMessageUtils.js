"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.setPayload = exports.getPayload = void 0;
const padlocal_pb_1 = require("../proto/padlocal_pb");
const pb = __importStar(require("../proto/padlocal_pb"));
const google_protobuf_1 = require("google-protobuf");
/**
 * FIXME: figure out proper ts protobuf reflection to optimize this
 */
const payloadCaseCtorMap = new Map([
    [padlocal_pb_1.ActionMessage.PayloadCase.WECHATREQUEST, pb.WeChatRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.WECHATRESPONSE, pb.WeChatResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.WECHATSTREAMREQUEST, pb.WeChatStreamRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.WECHATSTREAMRESPONSE, pb.WeChatStreamResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.WECHATSTREAMRESPONSEREPLY, pb.WeChatStreamResponseReply],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYSTEMEVENTREQUEST, pb.SystemEventRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYSTEMEVENTRESPONSE, pb.SystemEventResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKINITREQUEST, pb.LongLinkInitRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKINITRESPONSE, pb.LongLinkInitResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKPACKREQUEST, pb.LongLinkPackRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKPACKRESPONSE, pb.LongLinkPackResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKUNPACKREQUEST, pb.LongLinkUnpackRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKUNPACKRESPONSE, pb.LongLinkUnpackResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKHEARTBEATREQUEST, pb.LongLinkHeartBeatRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LONGLINKHEARTBEATRESPONSE, pb.LongLinkHeartBeatResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYNCREQUEST, pb.SyncRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYNCRESPONSE, pb.SyncResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYNCEVENT, pb.SyncEvent],
    [padlocal_pb_1.ActionMessage.PayloadCase.LOGINREQUEST, pb.LoginRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LOGINUPDATEEVENT, pb.LoginUpdateEvent],
    [padlocal_pb_1.ActionMessage.PayloadCase.LOGINRESPONSE, pb.LoginResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.LOGOUTREQUEST, pb.LogoutRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.LOGOUTRESPONSE, pb.LogoutResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDTEXTMESSAGEREQUEST, pb.SendTextMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDTEXTMESSAGERESPONSE, pb.SendTextMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDIMAGEMESSAGEREQUEST, pb.SendImageMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDIMAGEMESSAGERESPONSE, pb.SendImageMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDAPPMESSAGEREQUEST, pb.SendAppMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDAPPMESSAGERESPONSE, pb.SendAppMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEIMAGEREQUEST, pb.GetMessageImageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEIMAGERESPONSE, pb.GetMessageImageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVOICEREQUEST, pb.GetMessageVoiceRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVOICERESPONSE, pb.GetMessageVoiceResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVIDEOTHUMBREQUEST, pb.GetMessageVideoThumbRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVIDEOTHUMBRESPONSE, pb.GetMessageVideoThumbResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVIDEOREQUEST, pb.GetMessageVideoRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEVIDEORESPONSE, pb.GetMessageVideoResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEATTACHREQUEST, pb.GetMessageAttachRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEATTACHRESPONSE, pb.GetMessageAttachResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEATTACHTHUMBREQUEST, pb.GetMessageAttachThumbRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEATTACHTHUMBRESPONSE, pb.GetMessageAttachThumbResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.FORWARDMESSAGEREQUEST, pb.ForwardMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.FORWARDMESSAGERESPONSE, pb.ForwardMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYNCCONTACTREQUEST, pb.SyncContactRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SYNCCONTACTRESPONSE, pb.SyncContactResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ACCEPTUSERREQUEST, pb.AcceptUserRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ACCEPTUSERRESPONSE, pb.AcceptUserResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDCONTACTREQUEST, pb.AddContactRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDCONTACTRESPONSE, pb.AddContactResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.DELETECONTACTREQUEST, pb.DeleteContactRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.DELETECONTACTRESPONSE, pb.DeleteContactResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCONTACTREQUEST, pb.GetContactRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCONTACTRESPONSE, pb.GetContactResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCONTACTQRCODEREQUEST, pb.GetContactQRCodeRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCONTACTQRCODERESPONSE, pb.GetContactQRCodeResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SEARCHCONTACTREQUEST, pb.SearchContactRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SEARCHCONTACTRESPONSE, pb.SearchContactResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.CREATECHATROOMREQUEST, pb.CreateChatRoomRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.CREATECHATROOMRESPONSE, pb.CreateChatRoomResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMMEMBERSREQUEST, pb.GetChatRoomMembersRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMMEMBERSRESPONSE, pb.GetChatRoomMembersResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMQRCODEREQUEST, pb.GetChatRoomQrCodeRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMQRCODERESPONSE, pb.GetChatRoomQrCodeResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMMEMBERREQUEST, pb.GetChatRoomMemberRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMMEMBERRESPONSE, pb.GetChatRoomMemberResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCHATROOMANNOUNCEMENTREQUEST, pb.SetChatRoomAnnouncementRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCHATROOMANNOUNCEMENTRESPONSE, pb.SetChatRoomAnnouncementResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDCHATROOMMEMBERREQUEST, pb.AddChatRoomMemberRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDCHATROOMMEMBERRESPONSE, pb.AddChatRoomMemberResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.DELETECHATROOMMEMBERREQUEST, pb.DeleteChatRoomMemberRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.DELETECHATROOMMEMBERRESPONSE, pb.DeleteChatRoomMemberResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCHATROOMNAMEREQUEST, pb.SetChatRoomNameRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCHATROOMNAMERESPONSE, pb.SetChatRoomNameResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDLABELREQUEST, pb.AddLabelRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ADDLABELRESPONSE, pb.AddLabelResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.REMOVELABELREQUEST, pb.RemoveLabelRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.REMOVELABELRESPONSE, pb.RemoveLabelResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETLABELLISTREQUEST, pb.GetLabelListRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETLABELLISTRESPONSE, pb.GetLabelListResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCONTACTLABELREQUEST, pb.SetContactLabelRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SETCONTACTLABELRESPONSE, pb.SetContactLabelResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSSENDMOMENTREQUEST, pb.SnsSendMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSSENDMOMENTRESPONSE, pb.SnsSendMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSFORWARDMOMENTREQUEST, pb.SnsForwardMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSFORWARDMOMENTRESPONSE, pb.SnsForwardMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETUSERPAGEREQUEST, pb.SnsGetUserPageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETUSERPAGERESPONSE, pb.SnsGetUserPageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETTIMELINEREQUEST, pb.SnsGetTimelineRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETTIMELINERESPONSE, pb.SnsGetTimelineResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETMOMENTREQUEST, pb.SnsGetMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSGETMOMENTRESPONSE, pb.SnsGetMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSSENDCOMMENTREQUEST, pb.SnsSendCommentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSSENDCOMMENTRESPONSE, pb.SnsSendCommentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSUPLOADIMAGEREQUEST, pb.SnsUploadImageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSUPLOADIMAGERESPONSE, pb.SnsUploadImageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSLIKEMOMENTREQUEST, pb.SnsLikeMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSLIKEMOMENTRESPONSE, pb.SnsLikeMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSUNLIKEMOMENTREQUEST, pb.SnsUnlikeMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSUNLIKEMOMENTRESPONSE, pb.SnsUnlikeMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSREMOVEMOMENTCOMMENTREQUEST, pb.SnsRemoveMomentCommentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSREMOVEMOMENTCOMMENTRESPONSE, pb.SnsRemoveMomentCommentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSMAKEMOMENTPRIVATEREQUEST, pb.SnsMakeMomentPrivateRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSMAKEMOMENTPRIVATERESPONSE, pb.SnsMakeMomentPrivateResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSMAKEMOMENTPUBLICREQUEST, pb.SnsMakeMomentPublicRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSMAKEMOMENTPUBLICRESPONSE, pb.SnsMakeMomentPublicResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSREMOVEMOMENTREQUEST, pb.SnsRemoveMomentRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SNSREMOVEMOMENTRESPONSE, pb.SnsRemoveMomentResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATESELFNICKNAMEREQUEST, pb.UpdateSelfNickNameRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATESELFNICKNAMERESPONSE, pb.UpdateSelfNickNameResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATESELFSIGNATUREREQUEST, pb.UpdateSelfSignatureRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATESELFSIGNATURERESPONSE, pb.UpdateSelfSignatureResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ZOMBIETESTREQUEST, pb.ZombieTestRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ZOMBIETESTRESPONSE, pb.ZombieTestResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATECONTACTREMARKREQUEST, pb.UpdateContactRemarkRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.UPDATECONTACTREMARKRESPONSE, pb.UpdateContactRemarkResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.REVOKEMESSAGEREQUEST, pb.RevokeMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.REVOKEMESSAGERESPONSE, pb.RevokeMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.QUITCHATROOMREQUEST, pb.QuitChatRoomRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.QUITCHATROOMRESPONSE, pb.QuitChatRoomResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDCONTACTCARDMESSAGEREQUEST, pb.SendContactCardMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDCONTACTCARDMESSAGERESPONSE, pb.SendContactCardMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDVOICEMESSAGEREQUEST, pb.SendVoiceMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDVOICEMESSAGERESPONSE, pb.SendVoiceMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDVIDEOMESSAGEREQUEST, pb.SendVideoMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDVIDEOMESSAGERESPONSE, pb.SendVideoMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDFILEMESSAGEREQUEST, pb.SendFileMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDFILEMESSAGERESPONSE, pb.SendFileMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEMINIPROGRAMTHUMBREQUEST, pb.GetMessageMiniProgramThumbRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETMESSAGEMINIPROGRAMTHUMBRESPONSE, pb.GetMessageMiniProgramThumbResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETENCRYPTEDFILEREQUEST, pb.GetEncryptedFileRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETENCRYPTEDFILERESPONSE, pb.GetEncryptedFileResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDEMOJIMESSAGEREQUEST, pb.SendEmojiMessageRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.SENDEMOJIMESSAGERESPONSE, pb.SendEmojiMessageResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMANNOUNCEMENTREQUEST, pb.GetChatRoomAnnouncementRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.GETCHATROOMANNOUNCEMENTRESPONSE, pb.GetChatRoomAnnouncementResponse],
    [padlocal_pb_1.ActionMessage.PayloadCase.ACCEPTCHATROOMINVITATIONREQUEST, pb.AcceptChatRoomInvitationRequest],
    [padlocal_pb_1.ActionMessage.PayloadCase.ACCEPTCHATROOMINVITATIONRESPONSE, pb.AcceptChatRoomInvitationResponse],
]);
const findPayloadCase = (payload) => {
    for (const [payloadCase, objClass] of payloadCaseCtorMap.entries()) {
        if (payload instanceof objClass) {
            return payloadCase;
        }
    }
    return padlocal_pb_1.ActionMessage.PayloadCase.PAYLOAD_NOT_SET;
};
const oneOfGroup = Object.keys(padlocal_pb_1.ActionMessage.PayloadCase)
    .filter((k) => k !== "PAYLOAD_NOT_SET")
    .map((k) => parseInt(padlocal_pb_1.ActionMessage.PayloadCase[k], 10));
function getPayload(actionMessage) {
    const payload = actionMessage.getPayloadCase();
    return google_protobuf_1.Message.getWrapperField(actionMessage, payloadCaseCtorMap.get(payload), payload);
}
exports.getPayload = getPayload;
function setPayload(actionMessage, payload) {
    const payloadCase = findPayloadCase(payload);
    google_protobuf_1.Message.setOneofWrapperField(actionMessage, payloadCase, oneOfGroup, payload);
}
exports.setPayload = setPayload;
//# sourceMappingURL=ActionMessageUtils.js.map