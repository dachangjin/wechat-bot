"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.EventLogger = void 0;
/**
 * Author: Huan LI https://github.com/huan
 * Date: Apr 2020
 */
const wechaty_1 = require("wechaty");
const wechaty_puppet_1 = require("wechaty-puppet");
function EventLogger(config = []) {
    wechaty_1.log.verbose('WechatyPluginContrib', 'EventLogger("%s")', JSON.stringify(config));
    return function EventLoggerPlugin(wechaty) {
        wechaty_1.log.verbose('WechatyPluginContrib', 'EventLogger installing on %s ...', wechaty);
        for (const key of Object.keys(wechaty_puppet_1.PUPPET_EVENT_DICT)) {
            const eventName = key;
            if (config.length > 0 && !config.includes(eventName)) {
                continue;
            }
            wechaty.on(eventName, (...args) => {
                wechaty_1.log.info('WechatyPluginContrib', 'EventLogger %s: %s', eventName, String(args));
            });
        }
    };
}
exports.EventLogger = EventLogger;
//# sourceMappingURL=event-logger.js.map